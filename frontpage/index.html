<html>
<head>
<title>Cannonballs...</title>
<link rel="stylesheet" href="css/style.css" />
<meta name="music" content="on"/>
<meta name="sound" content="on"/>
<meta name="tracer" content="off"/>

<link type="text/css"  rel="stylesheet" href="../css/cannongame.css"/>
<link type="text/css"  rel="stylesheet" href="../css/global.css"/>

<script src="https://apis.google.com/js/api:client.js"></script>
<script type="text/javascript" src="../js/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="jquery.aw-showcase.js"></script>
<script type="text/javascript" src="../js/ivank.js"></script>
<script type="text/javascript" src="../util.js"></script>
<script type="text/javascript" src="../js/queryloader2.min.js"></script>
<script type="text/javascript" src="preloader.js"></script>
<script type="text/javascript" src="../js/jquery.cookie.js"></script>
<script type="text/javascript" src="../sound.js"></script>

<script type="text/javascript">

$(document).ready(function()
{
	$("#showcase").awShowcase(
	{
		content_width:			600,
		content_height:			300,
		fit_to_parent:			false,
		auto:					false,
		interval:				3000,
		continuous:				true,
		loading:				true,
		tooltip_width:			200,
		tooltip_icon_width:		32,
		tooltip_icon_height:	32,
		tooltip_offsetx:		18,
		tooltip_offsety:		0,
		arrows:					true,
		buttons:				false,
		btn_numbers:			false,
		keybord_keys:			true,
		mousetrace:				false, /* Trace x and y coordinates for the mouse */
		pauseonover:			true,
		stoponclick:			false,
		transition:				'hslide', /* hslide/vslide/fade */
		transition_delay:		0,
		transition_speed:		500,
		show_caption:			'onload', /* onload/onhover/show */
		thumbnails:				false,
		thumbnails_position:	'outside-last', /* outside-last/outside-first/inside-last/inside-first */
		thumbnails_direction:	'vertical', /* vertical/horizontal */
		thumbnails_slidex:		1, /* 0 = auto / 1 = slide one thumbnail / 2 = slide two thumbnails / etc. */
		dynamic_height:			false, /* For dynamic height to work in webkit you need to set the width and height of images in the source. Usually works to only set the dimension of the first slide in the showcase. */
		speed_change:			false, /* Set to true to prevent users from swithing more then one slide at once. */
		viewline:				false, /* If set to true content_width, thumbnails, transition and dynamic_height will be disabled. As for dynamic height you need to set the width and height of images in the source. */
		custom_function:		null /* Define a custom function that runs on content change */
	});
	
});

var startApp = function() {
    gapi.load('auth2', function(){
      // Retrieve the singleton for the GoogleAuth library and set up the client.
      auth2 = gapi.auth2.init({
        client_id: '902747574683-k8u1v83k39ifchc8lu6lo09efqebsug7.apps.googleusercontent.com',
        cookiepolicy: 'single_host_origin',
        // Request scopes in addition to 'profile' and 'email'
        //scope: 'additional_scope'
      });
      attachSignin(document.getElementById('innergooglesignin'));
    });
};

function attachSignin(element) {
    auth2.attachClickHandler(element, {},
        function(googleUser) {
			signinCallback(googleUser);
        }, function(error) {
          consol.log(JSON.stringify(error, undefined, 2));
    });
}

function signinCallback(googleUser) {

	var popup = document.getElementById('gsignin');
	popup.parentNode.removeChild(popup);
	
	$.cookie('cannongameemail', googleUser.getBasicProfile().getEmail(), { path:'/'});
    
	$.get('http://winged-memory-791.appspot.com/retrievescore?email='+googleUser.getBasicProfile().getEmail(), function(data) {
		$.cookie("clearedstages", JSON.stringify(data));
		var ifrm = document.getElementById('firstStageSet');
		ifrm.src = 'stage_set_1.html';
    });

}
	
</script>

</head>
<body>

		<div style="display : none">
			<img src="flag_imgs/music/flag1.png" style="display : none"/>
			<img src="flag_imgs/music/flag2.png" style="display : none"/>
			<img src="flag_imgs/music/flag3.png" style="display : none"/>
			<img src="flag_imgs/music/flag4.png" style="display : none"/>
			<img src="flag_imgs/music/flag5.png" style="display : none"/>
			<img src="flag_imgs/music/flag6.png" style="display : none"/>
			<img src="flag_imgs/music/flag7.png" style="display : none"/>
			<img src="flag_imgs/music/flag8.png" style="display : none"/>
			<img src="flag_imgs/music/flag9.png" style="display : none"/>
			<img src="flag_imgs/music/flag10.png" style="display : none"/>
			<img src="flag_imgs/music/flag11.png" style="display : none"/>
			<img src="flag_imgs/music/flag12.png" style="display : none"/>
			<img src="flag_imgs/music/flag13.png" style="display : none"/>
			<img src="flag_imgs/music/flag14.png" style="display : none"/>
			<img src="flag_imgs/music/flag15.png" style="display : none"/>
			<img src="flag_imgs/music/flag16.png" style="display : none"/>
			<img src="flag_imgs/sound/flag1.png" style="display : none"/>
			<img src="flag_imgs/sound/flag2.png" style="display : none"/>
			<img src="flag_imgs/sound/flag3.png" style="display : none"/>
			<img src="flag_imgs/sound/flag4.png" style="display : none"/>
			<img src="flag_imgs/sound/flag5.png" style="display : none"/>
			<img src="flag_imgs/sound/flag6.png" style="display : none"/>
			<img src="flag_imgs/sound/flag7.png" style="display : none"/>
			<img src="flag_imgs/sound/flag8.png" style="display : none"/>
			<img src="flag_imgs/sound/flag9.png" style="display : none"/>
			<img src="flag_imgs/sound/flag10.png" style="display : none"/>
			<img src="flag_imgs/sound/flag11.png" style="display : none"/>
			<img src="flag_imgs/sound/flag12.png" style="display : none"/>
			<img src="flag_imgs/sound/flag13.png" style="display : none"/>
			<img src="flag_imgs/sound/flag14.png" style="display : none"/>
			<img src="flag_imgs/sound/flag15.png" style="display : none"/>
			<img src="flag_imgs/sound/flag16.png" style="display : none"/>
			<img src="flag_imgs/shop/flag1.png" style="display : none"/>
			<img src="flag_imgs/shop/flag2.png" style="display : none"/>
			<img src="flag_imgs/shop/flag3.png" style="display : none"/>
			<img src="flag_imgs/shop/flag4.png" style="display : none"/>
			<img src="flag_imgs/shop/flag5.png" style="display : none"/>
			<img src="flag_imgs/shop/flag6.png" style="display : none"/>
			<img src="flag_imgs/shop/flag7.png" style="display : none"/>
			<img src="flag_imgs/shop/flag8.png" style="display : none"/>
			<img src="flag_imgs/shop/flag9.png" style="display : none"/>
			<img src="flag_imgs/shop/flag10.png" style="display : none"/>
			<img src="flag_imgs/shop/flag11.png" style="display : none"/>
			<img src="flag_imgs/shop/flag12.png" style="display : none"/>
			<img src="flag_imgs/shop/flag13.png" style="display : none"/>
			<img src="flag_imgs/shop/flag14.png" style="display : none"/>
			<img src="flag_imgs/shop/flag15.png" style="display : none"/>
			<img src="flag_imgs/shop/flag16.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag1.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag2.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag3.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag4.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag5.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag6.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag7.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag8.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag9.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag10.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag11.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag12.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag13.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag14.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag15.png" style="display : none"/>
			<img src="flag_imgs/tracer/flag16.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb1.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb2.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb3.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb4.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb5.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb6.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb7.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb8.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb9.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb10.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb11.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb12.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb13.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb14.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb15.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb16.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb17.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb18.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb19.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb20.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb21.png" style="display : none"/>
			<img src="stage_icons/bomb/bomb22.png" style="display : none"/>
			<img src="stage_icons/1.png" style="display : none"/>
			<img src="stage_icons/2.png" style="display : none"/>
			<img src="stage_icons/3.png" style="display : none"/>
			<img src="stage_icons/4.png" style="display : none"/>
			<img src="stage_icons/5.png" style="display : none"/>
			<img src="stage_icons/6.png" style="display : none"/>
			<img src="stage_icons/7.png" style="display : none"/>
			<img src="stage_icons/8.png" style="display : none"/>
			<img src="stage_icons/9.png" style="display : none"/>
			<img src="stage_icons/10.png" style="display : none"/>
			<img src="stage_icons/11.png" style="display : none"/>
			<img src="stage_icons/12.png" style="display : none"/>
			<img src="stage_icons/13.png" style="display : none"/>
			<img src="stage_icons/14.png" style="display : none"/>
			<img src="stage_icons/15.png" style="display : none"/>
			<img src="stage_icons/16.png" style="display : none"/>
			<img src="stage_icons/17.png" style="display : none"/>
			<img src="stage_icons/18.png" style="display : none"/>
			<img src="stage_icons/19.png" style="display : none"/>
			<img src="stage_icons/20.png" style="display : none"/>
			<img src="images/bck_fp.png" style="display : none"/>
			<img src="images/arrows.png" style="display : none"/>
			<img src="../img/castle/castle1.png" style="display : none"/>
			<img src="../img/castle/castle2.png" style="display : none"/>
			<img src="../img/castle/castle3.png" style="display : none"/>
			<img src="../img/castle/castle4.png" style="display : none"/>
			<img src="../img/castle/castle5.png" style="display : none"/>
			<img src="../img/castle/castle6.png" style="display : none"/>
			<img src="../img/castle/castle7.png" style="display : none"/>
			<img src="../img/castle/castle8.png" style="display : none"/>
			<img src="../img/castle/castle9.png" style="display : none"/>
			<img src="../img/castle/castle10.png" style="display : none"/>
			<img src="../img/castle/castle11.png" style="display : none"/>
			<img src="../img/castle/castle12.png" style="display : none"/>
			<img src="../img/castle/castle13.png" style="display : none"/>
			<img src="../img/castle/castle14.png" style="display : none"/>
			<img src="../img/castle/castle15.png" style="display : none"/>
			<img src="../img/castle/castle16.png" style="display : none"/>
			<img src="../img/castle/castle17.png" style="display : none"/>
			<img src="../img/castle/castle18.png" style="display : none"/>
			<img src="../img/castle/castle19.png" style="display : none"/>
			<img src="../img/castle/castle20.png" style="display : none"/>
			<img src="../img/castle/castle21.png" style="display : none"/>
			<img src="../img/castle/castle22.png" style="display : none"/>
			<img src="../img/castle/castle23.png" style="display : none"/>
			<img src="../img/castle/castle24.png" style="display : none"/>
			<img src="../img/castle/castle25.png" style="display : none"/>
			<img src="../img/castle/castle26.png" style="display : none"/>
			<img src="../img/castle/castle27.png" style="display : none"/>
			<img src="../img/castle/castle28.png" style="display : none"/>
			<img src="../img/castle/castle29.png" style="display : none"/>
			<img src="../img/castle/castle30.png" style="display : none"/>
			<img src="../img/castle/castle31.png" style="display : none"/>
			<img src="../img/castle/castle32.png" style="display : none"/>
			<img src="../img/castle/castle33.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_1.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_2.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_3.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_4.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_5.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_6.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_7.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_8.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_9.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_10.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_11.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_12.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_13.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_14.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_15.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_16.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_17.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_18.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_19.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_20.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_21.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_22.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_23.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_24.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_25.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_26.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_27.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_28.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_29.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_30.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_31.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_32.png" style="display : none"/>
			<img src="../img/lighthouse/lighthouse_33.png" style="display : none"/>
			<img src="../img/tower/tower_2.png" style="display : none"/>
			<img src="../img/tower/tower_3.png" style="display : none"/>
			<img src="../img/tower/tower_4.png" style="display : none"/>
			<img src="../img/tower/tower_5.png" style="display : none"/>
			<img src="../img/tower/tower_6.png" style="display : none"/>
			<img src="../img/tower/tower_7.png" style="display : none"/>
			<img src="../img/tower/tower_8.png" style="display : none"/>
			<img src="../img/tower/tower_9.png" style="display : none"/>
			<img src="../img/tower/tower_10.png" style="display : none"/>
			<img src="../img/tower/tower_11.png" style="display : none"/>
			<img src="../img/tower/tower_12.png" style="display : none"/>
			<img src="../img/tower/tower_13.png" style="display : none"/>
			<img src="../img/tower/tower_14.png" style="display : none"/>
			<img src="../img/tower/tower_15.png" style="display : none"/>
			<img src="../img/tower/tower_16.png" style="display : none"/>
			<img src="../img/tower/tower_17.png" style="display : none"/>
			<img src="../img/tower/tower_18.png" style="display : none"/>
			<img src="../img/tower/tower_19.png" style="display : none"/>
			<img src="../img/tower/tower_20.png" style="display : none"/>
			<img src="../img/tower/tower_21.png" style="display : none"/>
			<img src="../img/tower/tower_22.png" style="display : none"/>
			<img src="../img/tower/tower_23.png" style="display : none"/>
			<img src="../img/tower/tower_24.png" style="display : none"/>
			<img src="../img/tower/tower_25.png" style="display : none"/>
			<img src="../img/tower/tower_26.png" style="display : none"/>
			<img src="../img/tower/tower_27.png" style="display : none"/>
			<img src="../img/tower/tower_28.png" style="display : none"/>
			<img src="../img/tower/tower_29.png" style="display : none"/>
			<img src="../img/tower/tower_30.png" style="display : none"/>
			<img src="../img/tower/tower_31.png" style="display : none"/>
			<img src="../img/tower/tower_32.png" style="display : none"/>
			<img src="../img/tower/tower_33.png" style="display : none"/>
			<img src="../img/smoke/smoke1.png" style="display : none"/>
			<img src="../img/smoke/smoke2.png" style="display : none"/>
			<img src="../img/smoke/smoke3.png" style="display : none"/>
			<img src="../img/smoke/smoke4.png" style="display : none"/>
			<img src="../img/smoke/smoke5.png" style="display : none"/>
			<img src="../img/smoke/smoke6.png" style="display : none"/>
			<img src="../img/smoke/smoke7.png" style="display : none"/>
			<img src="../img/smoke/smoke8.png" style="display : none"/>
			<img src="../img/smoke/smoke9.png" style="display : none"/>
			<img src="../img/smoke/smoke10.png" style="display : none"/>
			<img src="../img/smoke/smoke11.png" style="display : none"/>
			<img src="../img/smoke/smoke12.png" style="display : none"/>
			<img src="../img/smoke/smoke13.png" style="display : none"/>
			<img src="../img/smoke/smoke14.png" style="display : none"/>
			<img src="../img/smoke/smoke15.png" style="display : none"/>
			<img src="../img/bck_blue_flags_shield.png" style="display : none"/>
			<img src="../img/bck_flag_shield.png" style="display : none"/>
			<img src="../img/bck_shield_torches.png" style="display : none"/>
			<img src="../img/bck_shields.png" style="display : none"/>
			<img src="../img/blocker_300_164.png" style="display : none"/>
			<img src="../img/blocker_300_200.png" style="display : none"/>
			<img src="../img/blocker_400_164.png" style="display : none"/>
			<img src="../img/blocker_400_200.png" style="display : none"/>
			<img src="../img/blocker_500_164.png" style="display : none"/>
			<img src="../img/blocker_500_200.png" style="display : none"/>
			<img src="../img/blocker_600_164.png" style="display : none"/>
			<img src="../img/blocker_600_200.png" style="display : none"/>
			<img src="../img/blocker_700_164.png" style="display : none"/>
			<img src="../img/blocker_700_200.png" style="display : none"/>
			<img src="../img/blocker_800_164.png" style="display : none"/>
			<img src="../img/blocker_800_200.png" style="display : none"/>
			<img src="../img/blocker_900_164.png" style="display : none"/>
			<img src="../img/blocker_900_200.png" style="display : none"/>
			<img src="../img/cannon_1.png" style="display : none"/>
			<img src="../img/cannon_2.png" style="display : none"/>
			<img src="../img/cannonball.png" style="display : none"/>
			<img src="../img/empty_star.png" style="display : none"/>
			<img src="../img/golden_star.png" style="display : none"/>

			
		</div>
<!--	<div id='firstscr' class="firstscreen"> -->
		<!-- TODO Either change content slider for different browsers or make iFrame size adjustments for different browsers in this content slider only -->
		<div>
		<div style="width: 50px; height: 300px; float:left; "></div>
		<div id="showcase" class="showcase" style="margin: auto;">
			<!-- Each child div in #showcase represents a slide -->
			<!-- Each child div in #showcase represents a slide -->
			<div class="showcase-slide" >
				<!-- Put the slide content in a div with the class .showcase-content. -->
				<iframe id="firstStageSet" src="stage_set_1_before_login.html" width="600px" height="300px" frameborder="0"></iframe>
			</div>
			<!-- Each child div in #showcase represents a slide -->
			<div class="showcase-slide">
				<!-- Put the slide content in a div with the class .showcase-content. -->
				<iframe src="stage_set_2.html" width="600px" height="300px" frameborder="0"></iframe>
			</div>
			<!-- Each child div in #showcase represents a slide -->
			<div class="showcase-slide">
				<!-- Put the slide content in a div with the class .showcase-content. -->
				<iframe src="stage_set_3.html" width="600px" height="300px" frameborder="0"></iframe>
			</div>
		<!-- Each child div in #showcase represents a slide -->
		</div>
		<div style="width: 50px; height: 300px; float:right;"></div>
		</div>
		
		<div class="showcase" sytle="position: relative;">
			<iframe src="flagspage.html" style="width:600px; height:150px; left:0; right:0; position: absolute; margin: auto; overflow: hidden;" frameborder="0"></iframe>
			<!--	<canvas id="c" style="width:500px; height:150px; left:0; right:0; position: absolute; margin: auto;" width="500px" height="150px"></canvas> -->
		</div>		

	    <div id="gsignin" class="googlesignin">
			<div id="innergooglesignin">
				<span class="icon"></span>
			</div>	
		</div>
		<script>startApp();</script>
</body>


</html>
